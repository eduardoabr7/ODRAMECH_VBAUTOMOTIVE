<div class="sidebar" [ngClass]="{'collapsed': isCollapsed}">

  <!-- Toggle -->
  <div class="sidebar-toggle">
    <button class="toggle-btn" (click)="toggleCollapse()">
      <i class="fa-solid" [ngClass]="{ 'fa-bars': isCollapsed, 'fa-xmark': !isCollapsed }"></i>
    </button>
  </div>

  <!-- User profile -->
  <div class="user-profile" *ngIf="!isCollapsed">
    <div class="avatar-wrap">
      <img
        [src]="urlPhotoUser ? urlPhotoUser : '../../../../../../assets/no-photo-user-default.png'"
        alt="foto do usuário"
        class="avatar-img"
      >
      <span class="avatar-status"></span>
    </div>
    <div class="user-info">
      <span class="user-name">{{ authContext?.user?.name }}</span>
      <span class="user-role">{{ corpLogged?.establishment?.role }}</span>
    </div>
  </div>

  <!-- Collapsed avatar -->
  <div class="avatar-collapsed" *ngIf="isCollapsed">
    <img
      [src]="urlPhotoUser ? urlPhotoUser : '../../../../../../assets/no-photo-user-default.png'"
      alt="foto do usuário"
      class="avatar-img-sm"
    >
  </div>

  <!-- Navigation -->
  <nav class="sidebar-nav">
    <ul class="nav-list">
      <li
        *ngFor="let button of buttons"
        class="nav-item"
        [class.active]="isActive(button.route)"
        (click)="navigateUrl(button)"
        [title]="isCollapsed ? button.nome : ''"
      >
        <i class="icon" [class]="button.icon"></i>
        <span class="nav-label">{{ button.nome }}</span>
      </li>
    </ul>

    <div class="nav-divider"></div>

    <ul class="nav-list">
      <li class="nav-item" (click)="navigateToSettings()" [title]="isCollapsed ? 'Configurações' : ''">
        <i class="icon fa-solid fa-gear"></i>
        <span class="nav-label">Configurações</span>
      </li>
      <li class="nav-item nav-logout" (click)="logout()" [title]="isCollapsed ? 'Logout' : ''">
        <i class="icon fa-solid fa-arrow-right-from-bracket"></i>
        <span class="nav-label">Logout</span>
      </li>
    </ul>
  </nav>

</div>